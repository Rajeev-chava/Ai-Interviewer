{% extends "base.html" %}

{% block title %}Python Code Visualizer - AI Interviewer{% endblock %}

{% block head %}
<style>
    textarea {
      width: 100%;
      height: 200px;
      font-family: monospace;
      padding: 10px;
      margin-bottom: 10px;
      font-size: 16px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }

    iframe {
      width: 100%;
      height: 600px;
      border: 1px solid #ccc;
      margin-top: 20px;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-6">Python Code Visualizer</h1>
 
  <textarea id="codeInput" placeholder="Write your Python code here...">x = 5

for i in range(3):

    x += i

print(x)</textarea>
 
  <button onclick="visualizeCode()" class="bg-indigo-600 hover:bg-indigo-700 text-white rounded">Visualize</button>
 
  <iframe id="visualizerFrame" src="" hidden></iframe>
 
  <script>
    function visualizeCode() {
      const code = document.getElementById("codeInput").value;
      const encodedCode = encodeURIComponent(code);
      const url = `https://pythontutor.com/iframe-embed.html#code=${encodedCode}&cumulative=false&curInstr=0&heapPrimitives=nevernest&mode=edit&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false`;
      const iframe = document.getElementById("visualizerFrame");
      iframe.src = url;
      iframe.hidden = false;
    }
  </script>
</div>
{% endblock %}
